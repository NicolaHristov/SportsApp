<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{fragments/head}"></th:block>
</head>
<body>

<main>
    <form
            th:action="@{/register}"
            th:method="POST"
            th:object="${registerData}"
            class="register-form">

        <input type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}" />

        <label for="username">Username</label>
        <input
                type="text"
                id="username"
                name="username" required
                th:field="*{username}"
                th:errorclass="'is-invalid alert-danger'"
        >
        <small th:if="${#fields.hasErrors('username')}" class="invalid-feedback text-danger">
            <span th:errors="*{username}"></span>
        </small>

        <label for="email">Email</label>
        <input
                type="email"
                id="email"
                name="email" required
                th:field="*{email}"
                th:errorclass="'is-invalid alert-danger'"
        >
        <small th:if="${#fields.hasErrors('email')}" class="invalid-feedback text-danger">
            <span th:errors="*{email}"></span>
        </small>

        <label for="password">Password</label>
        <input
                type="password"
                id="password"
                name="password"
                required
                th:field="*{password}"
                th:errorclass="is-invalid"
        >

        <label for="confirm-password">Confirm Password</label>
        <input
                type="password"
                id="confirm-password"
                name="confirmPassword"
                th:field="*{confirmPassword}"
                >
        <small th:if="${passError}" class="alert alert-danger">
           Passwords do not match
        </small>

        <button type="submit" class="register-button">Register</button>
    </form>
</main>

</body>
</html>